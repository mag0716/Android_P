# Android App Bundle を Play Console にアップロードするまでの手順

## (署名用の鍵を管理している場合)署名ファイルを Play Console に登録する

* https://support.google.com/googleplay/android-developer/answer/7384423

### 新規アプリ

1. 署名ファイル、アップロード用の署名ファイルを生成する
  * https://developer.android.com/studio/publish/app-signing
1. Play Console を開く
1. 「アプリの作成」を選択し、必要な情報を入力し、作成する
1. 「アプリのリリース」を選択し、`*.aab`　をアップロードする
  * テスト用の内部テスト版トラックで問題ない
1. 「Google Play アプリ署名」で「次へ」を選択する
1. 「追加する Android App Bundle と APK」で、アップロード用の署名ファイルで生成した、`*.aab`　を選択する
1. 「リリース名」、「このリリースの新機能」に適切な内容を入力し、「保存」を選択
1. 「アプリの署名」を選択すると、「アプリへの署名証明書」「アップロード証明書」が登録されていることが確認できます

### 既存アプリ

1. Play Console を開く
1. アプリを選択し、「アプリの署名」を選択する
  * 利用規約が表示されたので同意する
1. 「アプリ署名鍵がエクスポートされていません」を選択する
  * 「PEPK ツール」をタップし、ツールをダウンロードする
  * ツールを利用し、今まで利用していた署名ファイルから、秘密鍵のエクスポートと暗号化を行う
  * 「アプリ署名の秘密鍵」から秘密鍵を選択する
1. アップロード用の署名ファイルを生成する
  * https://developer.android.com/studio/publish/app-signing
  * 「アップロード公開鍵の証明書」からアップロード鍵の証明書をアップロードする

## アップロード用の鍵で `*.aab` を生成する

## Play Console にアップロードする

### テストする場合


## つまったこと

* 「アプリ署名の秘密鍵」で Android Studio 3.2 Canary 16 で生成した秘密鍵を選択すると、「秘密鍵が正しく暗号化されていないか、サポートされない種類です。別の秘密鍵を送信してください。」おとなり登録できない
  * 選択したアプリに署名されている keystore と異なる keystore を利用したから？
